{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\ndocument.getElementById('searchForm').addEventListener('submit', function (e) {\n  e.preventDefault();\n\n  // Відображення індикатора завантаження\n  showLoader();\n\n  const searchTerm = document.getElementById('searchInput').value.trim();\n\n  document.addEventListener('DOMContentLoaded', function () {\n    const apiKey = '41901564 - aceebb7c9fdd08ac794ac72d8';\n    const apiUrl = 'https://pixabay.com/api/';\n\n    document\n      .getElementById('searchForm')\n      .addEventListener('submit', function (e) {\n        e.preventDefault();\n\n        const searchTerm = document.getElementById('searchInput').value.trim();\n\n        if (searchTerm === '') {\n          iziToast.error({\n            title: 'Error',\n            message: 'Please enter a search term',\n          });\n          return;\n        }\n\n        const requestData = {\n          key: apiKey,\n          q: searchTerm,\n          image_type: 'photo',\n          orientation: 'horizontal',\n          safesearch: true,\n        };\n\n        fetch(`${apiUrl}?${new URLSearchParams(requestData)}`)\n          .then(response => response.json())\n          .then(data => {\n            displayImages(data.hits);\n            hideLoader(); // Приховання індикатора завантаження після успішного завершення\n          })\n          .catch(() => {\n            hideLoader(); // Приховання індикатора завантаження у разі помилки\n            iziToast.error({\n              title: 'Error',\n              message: 'Failed to fetch images. Please try again later.',\n            });\n          });\n      });\n    function showLoader() {\n      const loaderContainer = document.createElement('div');\n      loaderContainer.className = 'loader-container';\n\n      const loader = document.createElement('div');\n      loader.className = 'loader';\n\n      loaderContainer.appendChild(loader);\n      document.body.appendChild(loaderContainer);\n    }\n\n    function hideLoader() {\n      const loaderContainer = document.querySelector('.loader-container');\n      if (loaderContainer) {\n        loaderContainer.remove();\n      }\n    }\n    function displayImages(images) {\n      const gallery = document.getElementById('gallery');\n      gallery.innerHTML = '';\n\n      if (images.length === 0) {\n        iziToast.info({\n          title: 'Info',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n      }\n\n      images.forEach(image => {\n        const card = document.createElement('div');\n        card.className = 'card';\n\n        // Обгортаємо картку зображення в посилання для SimpleLightbox\n        card.innerHTML = `\n                <a href=\"${image.largeImageURL}\" data-lightbox=\"gallery\" data-title=\"Likes: ${image.likes}, Views: ${image.views}, Comments: ${image.comments}, Downloads: ${image.downloads}\">\n                    <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" data-src=\"${image.largeImageURL}\" data-caption=\"Likes: ${image.likes}, Views: ${image.views}, Comments: ${image.comments}, Downloads: ${image.downloads}\">\n                </a>\n            `;\n\n        gallery.appendChild(card);\n      });\n\n      const lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n\n      // Оновлення галереї\n      lightbox.refresh();\n    }\n  });\n});\n"],"names":["e","apiKey","apiUrl","searchTerm","iziToast","requestData","response","data","displayImages","hideLoader","loaderContainer","images","gallery","image","card","SimpleLightbox"],"mappings":"6vBASA,SAAS,eAAe,YAAY,EAAE,iBAAiB,SAAU,SAAUA,EAAG,CAC5EA,EAAE,eAAc,EAGhB,aAEmB,SAAS,eAAe,aAAa,EAAE,MAAM,KAAO,EAEvE,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,MAAMC,EAAS,uCACTC,EAAS,2BAEf,SACG,eAAe,YAAY,EAC3B,iBAAiB,SAAU,SAAU,EAAG,CACvC,EAAE,eAAc,EAEhB,MAAMC,EAAa,SAAS,eAAe,aAAa,EAAE,MAAM,OAEhE,GAAIA,IAAe,GAAI,CACrBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,4BACrB,CAAW,EACD,MACD,CAED,MAAMC,EAAc,CAClB,IAAKJ,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACtB,EAEQ,MAAM,GAAGD,KAAU,IAAI,gBAAgBG,CAAW,GAAG,EAClD,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CACZC,EAAcD,EAAK,IAAI,EACvBE,GACZ,CAAW,EACA,MAAM,IAAM,CACXA,IACAL,EAAS,MAAM,CACb,MAAO,QACP,QAAS,iDACvB,CAAa,CACb,CAAW,CACX,CAAO,EAYH,SAASK,GAAa,CACpB,MAAMC,EAAkB,SAAS,cAAc,mBAAmB,EAC9DA,GACFA,EAAgB,OAAM,CAEzB,CACD,SAASF,EAAcG,EAAQ,CAC7B,MAAMC,EAAU,SAAS,eAAe,SAAS,EAGjD,GAFAA,EAAQ,UAAY,GAEhBD,EAAO,SAAW,EAAG,CACvBP,EAAS,KAAK,CACZ,MAAO,OACP,QACE,0EACZ,CAAS,EACD,MACD,CAEDO,EAAO,QAAQE,GAAS,CACtB,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAY,OAGjBA,EAAK,UAAY;AAAA,2BACED,EAAM,6DAA6DA,EAAM,iBAAiBA,EAAM,oBAAoBA,EAAM,wBAAwBA,EAAM;AAAA,gCACnJA,EAAM,sBAAsBA,EAAM,mBAAmBA,EAAM,uCAAuCA,EAAM,iBAAiBA,EAAM,oBAAoBA,EAAM,wBAAwBA,EAAM;AAAA;AAAA,cAI/MD,EAAQ,YAAYE,CAAI,CAChC,CAAO,EAEgB,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GACtB,CAAO,EAGQ,QAAO,CACjB,CACL,CAAG,CACH,CAAC"}